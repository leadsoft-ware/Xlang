Xlang Compiler Alpha 0.1
Powered by xiaokang00010
Filename -> test.xlang
Reading Program to buffer.../*
This is a test file for Xlang compiler
Writed by xiaokang00010 at Febuary,12th,2021
*/
// for testing
/*import(headers:"lib/vmlib@latest/heap.xlang");
import(headers:"lib/vmlib@latest/io.xlang");
import(headers:"lib/vmlib@latest/vmapi.xlang");*/

func int test(){
    int f=5;
    return f;
};
int f = test();

--->_test_int
--->reg0
--->regsb
--->reg0
--->regfp
--->reg0
--->regsp
--->reg0
--->1
--->[0]
--->[reg0]
--->8
--->reg0
--->5
--->reg0
--->8
--->reg0
--->regsb
--->reg0
--->regfp
--->reg0
--->7
--->[reg0]
--->8
[32m_vmstart:[0m
save;
call _test_int;
mov reg0,regsb;
sub reg0,regfp;
sub reg0,regsp;
add reg0,1;
mov_m [0],[reg0],8;
exit;
[32m_test_int:[0m
mov reg0,5;
push reg0,8;
mov reg0,regsb;
sub reg0,regfp;
sub reg0,7;
ret [reg0],8;

